<server description="Default Server">

  <featureManager>
    <feature>webProfile-8.0</feature>
  </featureManager>

  <httpEndpoint id="defaultHttpEndpoint" host="*" httpPort="8080"/>

  <dataSource id="BikeDataSource" jndiName="jdbc/bikes">
    <jdbcDriver libraryRef="DerbyLib"/>
    <properties.derby.embedded databaseName="${env.BIKES_DB_LOCATION}" createDatabase="create"/>
  </dataSource>

  <dataSource id="WifeDataSource" jndiName="jdbc/wife">
    <jdbcDriver libraryRef="DerbyLib"/>
    <properties.derby.embedded databaseName="${env.WIFE_DB_LOCATION}" createDatabase="create"/>
  </dataSource>

  <library id="DerbyLib">
    <fileset dir="${server.config.dir}/derbyLib"/>
  </library>

  <jndiEntry jndiName="kafkaHost" value='"${env.KAFKA_HOST}"' />
  <jndiEntry jndiName="kafkaPort" value='"${env.KAFKA_PORT}"' />
  <jndiEntry jndiName="kafkaEventTopic" value='"${env.KAFKA_EVENT_TOPIC}"' />

  <webApplication contextRoot="/" location="bikes.war"/>

</server>